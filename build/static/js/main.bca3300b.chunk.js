(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{100:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(7),o=t.n(c),l=(t(42),t(9)),u=t(38),i=t(55),s=t(60),m=t(15),d=function(e){var n=e.value,t=e.handler,a=e.label;return r.a.createElement("p",null,a,": ",r.a.createElement("input",{value:n,onChange:t}))},f=t(11),b=t(132);function h(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: left;\n  align-items: left;\n"]);return h=function(){return e},e}var v=function(e){var n=e.handleSubmit,t=e.newName,a=e.handleInput,c=e.newNumber,o=e.handleNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement(p,null,r.a.createElement(d,{value:t,handler:a,label:"Name"}),r.a.createElement(d,{value:c,handler:o,label:"Number"}),r.a.createElement(b.a,{type:"submit",style:{margin:"0 20%"}},"add")))},p=f.a.div(h()),g=t(131);function E(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: right;\n  justify-content: right;\n  margin: 5% 8%;\n"]);return E=function(){return e},e}var O=function(e){var n=e.handleSearch;return r.a.createElement(j,null,r.a.createElement(g.a,{id:"outlined-basic",label:"Who?",variant:"outlined",onChange:n}))},j=f.a.div(E()),w=t(31),y=t.n(w),x="https://protected-bayou-84240.herokuapp.com/api/persons",k=function(){return y.a.get(x).then((function(e){return e.data}))},N=function(e){return y.a.post(x,e).then((function(e){return e.data}))},S=function(e){return y.a.delete("".concat(x,"/").concat(e))},C=function(e,n){return y.a.put("".concat(x,"/").concat(e),n).then((function(e){return e.data}))},L=function(e){var n=e.message;return""===n?r.a.createElement(r.a.Fragment,null):null===n?null:n.includes("failed")?r.a.createElement("p",{className:"fail"},n):r.a.createElement("p",{className:"success"},n)};function q(){var e=Object(l.a)(["\n  font-size: 25px;\n"]);return q=function(){return e},e}function I(){var e=Object(l.a)(["\n  text-align: center;\n  // background: gray;\n  border-bottom: 1px solid black;\n  margin: 0 33%;\n"]);return I=function(){return e},e}var R=function(e){return r.a.createElement(A,null,r.a.createElement(B,null,e.title),e.children)},A=f.a.div(I()),B=f.a.p(q());function D(){var e=Object(l.a)(["\n  text-align: center;\n"]);return D=function(){return e},e}var F=function(e){return r.a.createElement(T,null,r.a.createElement(O,{handleSearch:e.handleSearch}))},T=f.a.div(D()),W=t(59),z=t.n(W);function H(){var e=Object(l.a)(["\n  text-align: center;\n  border: 1px solid black;\n  // margin: 10% 15%;\n  margin-left: 35%;\n  margin-top: 10%;\n  height: 45vh;\n  width: 30vw;\n  background-color: white;\n"]);return H=function(){return e},e}function J(){var e=Object(l.a)(["\n  height: 75%;\n"]);return J=function(){return e},e}var M=function(e){return r.a.createElement(X,null,r.a.createElement($,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,contentLabel:e.contentLabel,ariaHideApp:!1},e.children))},X=f.a.div(J()),$=Object(f.a)(z.a)(H());function G(){var e=Object(l.a)(["\n  width: 100%;\n  text-align: right;\n"]);return G=function(){return e},e}var K=function(e){var n=e.isOpen,t=e.onRequestClose,a=e.contentLabel,c=e.newName,o=e.newNumber,l=e.handleInput,u=e.handleNumber,i=e.handleSubmit;return r.a.createElement(M,{isOpen:n,onRequestClose:t,contentLabel:a,ariaHideApp:!1},r.a.createElement(P,null,r.a.createElement("button",{onClick:t},"X")),r.a.createElement("h2",null,"New entry"),r.a.createElement(v,{handleSubmit:i,newName:c,handleInput:l,newNumber:o,handleNumber:u}))},P=f.a.div(G());function Q(){var e=Object(l.a)(["\n  border: 1px solid black;\n  border-radius: 3px;\n  padding: 2%;\n  margin: 4%;\n"]);return Q=function(){return e},e}function U(){var e=Object(l.a)(["\n  width: 60vw;\n"]);return U=function(){return e},e}var V=function(e){var n=e.displayFiltered;return r.a.createElement(Y,null,r.a.createElement(Z,null,n))},Y=f.a.div(U()),Z=f.a.div(Q());function _(){var e=Object(l.a)(["\n  text-align: right;\n"]);return _=function(){return e},e}function ee(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  z-index: -1;\n"]);return ee=function(){return e},e}function ne(){var e=Object(l.a)(["\n  margin: 0;\n"]);return ne=function(){return e},e}var te=function(){Object(a.useEffect)((function(){console.log("effect"),k().then((function(e){console.log("promised fulfilled"),c(e)}))}),[]);var e=Object(a.useState)([]),n=Object(m.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),l=Object(m.a)(o,2),d=l[0],f=l[1],h=Object(a.useState)(""),v=Object(m.a)(h,2),p=v[0],g=v[1],E=Object(a.useState)(Object(s.a)(t)),O=Object(m.a)(E,2),j=O[0],w=O[1],y=Object(a.useState)(""),x=Object(m.a)(y,2),q=x[0],I=x[1],A=Object(a.useState)(""),B=Object(m.a)(A,2),D=B[0],T=B[1],W=Object(a.useState)(""),z=Object(m.a)(W,2),H=z[0],J=z[1],M=r.a.useState(!1),X=Object(m.a)(M,2),$=X[0],G=X[1];var P=(""===q?t:j).map((function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"5px",justifyContent:"space-between"},key:e.id},r.a.createElement("div",{style:{borderBottom:"1px solid black",width:"100%"}},e.name," : ",e.number),r.a.createElement("div",{style:{borderBottom:"1px solid black"}},r.a.createElement("button",{type:"click",onClick:function(){return Q(e.id)}},"remove")))})),Q=function(e){var n=window.confirm("Are you sure you wish to delete your work of art?"),a=t.find((function(n){return n.id===e}));n?S(e).then((function(n){console.log("success: ",n),J("".concat(a.name," deleted")),setTimeout((function(){J(null)}),3e3),c(t.filter((function(n){return n.id!==e})))})).catch((function(e){return console.log("Failed to delete ".concat(a))})):console.log("no changes made")};return r.a.createElement(ae,null,r.a.createElement(R,{title:"Louis's phonebook"}),r.a.createElement(K,{isOpen:$,onRequestClose:function(){G(!1)},contentLabel:"Example Modal",handleSubmit:function(e){e.preventDefault();var n,a=!1,r=!1,o=!1,l=Object(i.a)(t);try{for(l.s();!(n=l.n()).done;){var s=n.value;d===s.name&&s.number!==p?(a=!0,o=window.confirm("".concat(s.name," already exist in the phonebook. Change its phone number?"))):d===s.name&&(r=!0)}}catch(h){l.e(h)}finally{l.f()}if(a)if(o){var m=t.find((function(e){return e.name===d})),b=Object(u.a)(Object(u.a)({},m),{},{number:p});C(m.id,b).then((function(e){c(t.map((function(e){return e.name===m.name?b:e})))})).catch((function(e){T("".concat(m.name," is not part of the server!")),setTimeout((function(){T(null)}),3e3)}))}else console.log("No changes will be made to the phone number");else if(r)alert("".concat(d," has already been added")),console.log("Duplicate entry");else{N({name:d,number:p}).then((function(e){c(t.concat(e)),J("".concat(e.name," added")),setTimeout((function(){J(null)}),3e3)})).catch((function(e){var n=e.response.data.error;console.log("error: ",n),T(n),setTimeout((function(){T(null)}),3e3)})),f(""),g("")}},handleInput:function(e){f(e.target.value)},handleNumber:function(e){g(e.target.value)},newName:d,newNumber:p}),r.a.createElement(ce,null,r.a.createElement(b.a,{onClick:function(){G(!0)}},r.a.createElement("i",{class:"fas fa-user-plus"})," \xa0 Add Contacts")),r.a.createElement(L,{message:H}),r.a.createElement(L,{message:D}),r.a.createElement(re,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(F,{handleSearch:function(e){I(e.target.value);var n=t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}));w(n)}}),r.a.createElement(V,{displayFiltered:P}))))},ae=f.a.div(ne()),re=f.a.div(ee()),ce=f.a.div(_());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,n,t){},67:function(e,n,t){e.exports=t(100)}},[[67,1,2]]]);
//# sourceMappingURL=main.bca3300b.chunk.js.map